2019-09-04 16:09:18,077 - framework.testreport - INFO - successed to generate test report [C:\Users\admin\PycharmProjects\Zcy_Vaccine\reports\testReport\report2019-09-04 16_09_18.html]
2019-09-04 16:09:20,647 - framework.driver - INFO - found the chrome driver [<selenium.webdriver.chrome.webdriver.WebDriver (session="0924ece728189a55ec8e157d7b796b14")>] successed !
2019-09-04 16:09:21,779 - framework.myunit - INFO - opened the browser successed!
2019-09-04 16:09:23,986 - pageobjects.login_page - INFO - https://login-staging.zcygov.cn/login 打开登录地址成功
2019-09-04 16:09:24,053 - framework.base_page - INFO - 清除文本框内容成功username
2019-09-04 16:09:24,183 - framework.base_page - INFO - 输入的内容：13777466979
2019-09-04 16:09:24,246 - framework.base_page - INFO - 清除文本框内容成功password
2019-09-04 16:09:24,342 - framework.base_page - INFO - 输入的内容：test123456
2019-09-04 16:09:31,287 - framework.base_page - INFO - 点击元素成功//button[@class='ant-btn login-btn password-login ant-btn-primary']
2019-09-04 16:09:31,287 - framework.myunit - INFO - ************************starting run test cases************************
2019-09-04 16:09:32,234 - framework.base_page - INFO - https://cart-staging.zcygov.cn/ 地址正常打开
2019-09-04 16:09:38,257 - pageobjects.order_page - ERROR - 未找到全选按钮
Traceback (most recent call last):
  File "C:\Users\admin\PycharmProjects\Zcy_Vaccine\pageobjects\order_page.py", line 35, in clearcart
    self.driver.find_element_by_xpath('//input[@class="ant-checkbox-input"]').click()
  File "C:\Users\admin\PycharmProjects\UITest\venv\lib\site-packages\selenium\webdriver\remote\webdriver.py", line 394, in find_element_by_xpath
    return self.find_element(by=By.XPATH, value=xpath)
  File "C:\Users\admin\PycharmProjects\UITest\venv\lib\site-packages\selenium\webdriver\remote\webdriver.py", line 978, in find_element
    'value': value})['value']
  File "C:\Users\admin\PycharmProjects\UITest\venv\lib\site-packages\selenium\webdriver\remote\webdriver.py", line 321, in execute
    self.error_handler.check_response(response)
  File "C:\Users\admin\PycharmProjects\UITest\venv\lib\site-packages\selenium\webdriver\remote\errorhandler.py", line 242, in check_response
    raise exception_class(message, screen, stacktrace)
selenium.common.exceptions.NoSuchElementException: Message: no such element: Unable to locate element: {"method":"xpath","selector":"//input[@class="ant-checkbox-input"]"}
  (Session info: chrome=73.0.3683.103)
  (Driver info: chromedriver=2.40.565498 (ea082db3280dd6843ebfb08a625e3eb905c4f5ab),platform=Windows NT 10.0.17134 x86_64)

2019-09-04 16:09:38,935 - framework.base_page - INFO - https://vaccine-staging.zcygov.cn/items/175600205?searchType=1&type=vaccine&utm=a0004.2ef5001f.0.0.33d8ffd0ca0411e9af8ed36431cbf75c 地址正常打开
2019-09-04 16:09:39,643 - framework.base_page - INFO - 点击元素成功//*[contains(text(),"加入购物车")]
2019-09-04 16:09:40,504 - framework.base_page - INFO - 点击元素成功//*[contains(text(),"查看购物车")]
2019-09-04 16:09:57,624 - framework.base_page - INFO - 点击元素成功select2-selection__placeholder
2019-09-04 16:09:57,703 - framework.base_page - INFO - 点击元素成功//li[text()="席胜军"]
2019-09-04 16:09:57,804 - framework.base_page - INFO - 点击元素成功//button[text()="提交"]
2019-09-04 16:09:58,322 - framework.base_page - INFO - 点击元素成功submit
2019-09-04 16:10:00,073 - framework.base_page - INFO - 点击元素成功//button[@class="btn btn-minor submit close"]
2019-09-04 16:10:10,085 - framework.base_page - ERROR - 查找元素超时:div.pur-list-body > table > tbody > tr:nth-child(1) > td:nth-child(7) > a:nth-child(11)
Traceback (most recent call last):
  File "C:\Users\admin\PycharmProjects\Zcy_Vaccine\framework\base_page.py", line 106, in find_element
    EC.visibility_of(self.driver.find_element_by_css_selector(value)))
  File "C:\Users\admin\PycharmProjects\UITest\venv\lib\site-packages\selenium\webdriver\remote\webdriver.py", line 598, in find_element_by_css_selector
    return self.find_element(by=By.CSS_SELECTOR, value=css_selector)
  File "C:\Users\admin\PycharmProjects\UITest\venv\lib\site-packages\selenium\webdriver\remote\webdriver.py", line 978, in find_element
    'value': value})['value']
  File "C:\Users\admin\PycharmProjects\UITest\venv\lib\site-packages\selenium\webdriver\remote\webdriver.py", line 321, in execute
    self.error_handler.check_response(response)
  File "C:\Users\admin\PycharmProjects\UITest\venv\lib\site-packages\selenium\webdriver\remote\errorhandler.py", line 242, in check_response
    raise exception_class(message, screen, stacktrace)
selenium.common.exceptions.NoSuchElementException: Message: no such element: Unable to locate element: {"method":"css selector","selector":"div.pur-list-body > table > tbody > tr:nth-child(1) > td:nth-child(7) > a:nth-child(11)"}
  (Session info: chrome=73.0.3683.103)
  (Driver info: chromedriver=2.40.565498 (ea082db3280dd6843ebfb08a625e3eb905c4f5ab),platform=Windows NT 10.0.17134 x86_64)

2019-09-04 16:10:10,086 - pageobjects.order_page - ERROR - 未找审核按钮
Traceback (most recent call last):
  File "C:\Users\admin\PycharmProjects\Zcy_Vaccine\pageobjects\order_page.py", line 120, in check_initateorder
    texts = BasePage(self.driver).get_text(OrderData.purchaser_check_selectors)
  File "C:\Users\admin\PycharmProjects\Zcy_Vaccine\framework\base_page.py", line 231, in get_text
    element = self.find_element(selector)
  File "C:\Users\admin\PycharmProjects\Zcy_Vaccine\framework\base_page.py", line 116, in find_element
    raise e
  File "C:\Users\admin\PycharmProjects\Zcy_Vaccine\framework\base_page.py", line 106, in find_element
    EC.visibility_of(self.driver.find_element_by_css_selector(value)))
  File "C:\Users\admin\PycharmProjects\UITest\venv\lib\site-packages\selenium\webdriver\remote\webdriver.py", line 598, in find_element_by_css_selector
    return self.find_element(by=By.CSS_SELECTOR, value=css_selector)
  File "C:\Users\admin\PycharmProjects\UITest\venv\lib\site-packages\selenium\webdriver\remote\webdriver.py", line 978, in find_element
    'value': value})['value']
  File "C:\Users\admin\PycharmProjects\UITest\venv\lib\site-packages\selenium\webdriver\remote\webdriver.py", line 321, in execute
    self.error_handler.check_response(response)
  File "C:\Users\admin\PycharmProjects\UITest\venv\lib\site-packages\selenium\webdriver\remote\errorhandler.py", line 242, in check_response
    raise exception_class(message, screen, stacktrace)
selenium.common.exceptions.NoSuchElementException: Message: no such element: Unable to locate element: {"method":"css selector","selector":"div.pur-list-body > table > tbody > tr:nth-child(1) > td:nth-child(7) > a:nth-child(11)"}
  (Session info: chrome=73.0.3683.103)
  (Driver info: chromedriver=2.40.565498 (ea082db3280dd6843ebfb08a625e3eb905c4f5ab),platform=Windows NT 10.0.17134 x86_64)

2019-09-04 16:10:10,362 - framework.base_page - INFO - 截图 [test_33306_fail.png] 成功保存在 [C:\Users\admin\PycharmProjects\Zcy_Vaccine\reports\screenshots\fail]
2019-09-04 16:10:10,362 - test_33306 - INFO - 运行失败：预购单提交失败
2019-09-04 16:10:10,375 - framework.myunit - INFO - ************************test case run completed************************
2019-09-04 16:10:12,623 - framework.myunit - INFO - quit the browser success!
2019-09-04 16:10:12,626 - framework.send_email - INFO - 添加附件
2019-09-04 16:10:12,684 - framework.send_email - INFO - 连接成功
2019-09-04 16:10:12,939 - framework.send_email - INFO - 2019-09-04-16_10_12----发送邮件成功
